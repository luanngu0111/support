<?xml version="1.0" encoding="UTF-8"?>
<workflow xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xsi:noNamespaceSchemaLocation="workflow.xsd" id="POST_EOD">

	<state id="sEOD_DEAD" mode="sequence">

		<state id="sEMAIL_START" mode="sequence">
			<action id="aEMAIL_START" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="cat /dev/null | mailx -s'DATAMART - EOD DEAD - Starting' $DATAMART_MAILTO"/>
			</action>

			<action id="aNAGIOS_START" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/NAGIOS/nagios_msg.sh I 'DATAMART - EOD DEAD' wf_eod_dead.xml 103"/>
			</action>		
		</state>

		<state id="sMARKER_START" mode="sequence">
			<action id="aMARKER_START" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-WF-EOD-DEAD-START"/>
			</action>
		</state>

		<state id="sCHECK_DATE" mode="sequence">
			<action id="aODS_CHK_DATE" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CHK_DATE'"/>
			</action>
		</state>


		<state id="sDATE_INIT" mode="sequence">
			<action id="aTRUNCATE_STG_DATE" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_TRUNCATE_DATE 'Y''"/>
			</action>

			<action id="aTRUNCATE_ODS_DATE" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_TRUNCATE_DATE 'Y''"/>
			</action>

			<action id="aSTG_DATE" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-DATE"/>
			</action>

			<action id="aODS_VALIDATE_CHKZERO_DATE" package="MX::Action::ExecuteCmd">                                               
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CHK_ZERO_DATE'"/>      
			</action>

			<action id="aODS_LOAD_EOD_DATE" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_LOAD_EOD_DEAD_DATE'"/>
			</action>

			<action id="aODS_VALIDATE_MULTIPLE_DATE" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CHK_MULTIPLE_DATE'"/>
			</action>
		</state>


		<state id="sSTG_TRUNCATE" mode="parallel">
			<action id="aSTG_TRUNCATE_CS" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_TRUNCATE_CS 'Y''"/>
			</action>

			<!--	<action id="aSTG_TRUNCATE_CVSPT" package="MX::Action::ExecuteCmd"> -->
			<!--	** PAS UTILE CAR PAS DE DT DANS LE WORKFLOW DEAD                   -->
			<!--	</action>                                                          -->
			<!--	                                                                   -->
			<!--	<action id="aSTG_TRUNCATE_CVUNI" package="MX::Action::ExecuteCmd"> -->
			<!--	** PAS UTILE CAR PAS DE DT DANS LE WORKFLOW DEAD                   -->
			<!--	</action>                                                          -->

			<action id="aSTG_TRUNCATE_DEALCDS" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_TRUNCATE_DEALCDS 'Y''"/>
			</action>

			<action id="aSTG_TRUNCATE_DEALCOM" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_TRUNCATE_DEALCOM 'Y''"/>
			</action>

			<action id="aSTG_TRUNCATE_DEALCRD" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_TRUNCATE_DEALCRD 'Y''"/>
			</action>

			<action id="aSTG_TRUNCATE_DEALCURR" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_TRUNCATE_DEALCURR 'Y''"/>
			</action>

			<action id="aSTG_TRUNCATE_DEALEQD" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_TRUNCATE_DEALEQD 'Y''"/>
			</action>		

			<action id="aSTG_TRUNCATE_DEALHDR" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_TRUNCATE_DEALHDR 'Y''"/>
			</action>

			<action id="aSTG_TRUNCATE_DEALIRD" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_TRUNCATE_DEALIRD 'Y''"/>
			</action>

			<action id="aSTG_TRUNCATE_DEALLB" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_TRUNCATE_DEALLB 'Y''"/>
			</action>

			<action id="aSTG_TRUNCATE_DEALOPT" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_TRUNCATE_DEALOPT 'Y''"/>
			</action>

			<action id="aSTG_TRUNCATE_DEALREPO" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_TRUNCATE_DEALREPO 'Y''"/>
			</action>

			<action id="aSTG_TRUNCATE_EVENT_LB" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_TRUNCATE_EVENT_LB 'Y''"/>
			</action>

			<action id="aSTG_TRUNCATE_LOAN" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_TRUNCATE_LOAN 'Y''"/>
			</action>

			<action id="aSTG_TRUNCATE_LOAN_LEG" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_TRUNCATE_LOAN_LEG 'Y''"/>
			</action>

			<action id="aSTG_TRUNCATE_MKTOP" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_TRUNCATE_MKTOP 'Y''"/>
			</action>

			<action id="aSTG_TRUNCATE_MV" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_TRUNCATE_MV 'Y''"/>
			</action>

			<action id="aSTG_TRUNCATE_SEC_UND" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_TRUNCATE_SEC_UND 'Y''"/>
			</action>

			<action id="aSTG_TRUNCATE_TRADE" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_TRUNCATE_TRADE 'Y''"/>
			</action>
		</state>

		<state id="sSTG_DROP_INDEX" mode="parallel">
			<action id="aSTG_DROP_INDEX_CS" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_DROP_INDEX 'Y', 'STG_CS_REP''"/>
			</action>

			<action id="aSTG_DROP_INDEX_DEALCOM" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_DROP_INDEX 'Y', 'STG_DEALCOM_REP''"/>
			</action>

			<action id="aSTG_DROP_INDEX_DEALCRD" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_DROP_INDEX 'Y', 'STG_DEALCRD_REP''"/>
			</action>

			<action id="aSTG_DROP_INDEX_DEALCURR" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_DROP_INDEX 'Y', 'STG_DEALCURR_REP''"/>
			</action>

			<action id="aSTG_DROP_INDEX_DEALEQD" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_DROP_INDEX 'Y', 'STG_DEALEQD_REP''"/>
			</action>

			<action id="aSTG_DROP_INDEX_DEALHDR" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_DROP_INDEX 'Y', 'STG_DEALHDR_REP''"/>
			</action>

			<action id="aSTG_DROP_INDEX_DEALIRD" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_DROP_INDEX 'Y', 'STG_DEALIRD_REP''"/>
			</action>

			<action id="aSTG_DROP_INDEX_DEALLB" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_DROP_INDEX 'Y', 'STG_DEALLB_REP''"/>
			</action>

			<action id="aSTG_DROP_INDEX_DEALOPT" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_DROP_INDEX 'Y', 'STG_DEALOPT_REP''"/>
			</action>

			<action id="aSTG_DROP_INDEX_DEALREPO" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_DROP_INDEX 'Y', 'STG_DEALREPO_REP''"/>
			</action>

			<action id="aSTG_DROP_INDEX_EVENT_LB" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_DROP_INDEX 'Y', 'STG_EVENT_LB_REP''"/>
			</action>

			<action id="aSTG_DROP_INDEX_LOAN" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_DROP_INDEX 'Y', 'STG_LOAN_REP''"/>
			</action>

			<action id="aSTG_DROP_INDEX_LOAN_LEG" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_DROP_INDEX 'Y', 'STG_LOAN_LEG_REP''"/>
			</action>

			<action id="aSTG_DROP_INDEX_MKTOP" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_DROP_INDEX 'Y', 'STG_MKTOP_REP''"/>
			</action>

			<action id="aSTG_DROP_INDEX_MV" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_DROP_INDEX 'Y', 'STG_MV_REP''"/>
			</action>

			<action id="aSTG_DROP_INDEX_TRADE" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_DROP_INDEX 'Y', 'STG_TRADE_REP''"/>
			</action>
		</state>

		<state id="sSTG_FEED_ALL" mode="parallel">

			<state id="sSTG_FEED_DYN" mode="sequence">

				<state id="sSTG_DEAL_PCK" mode="sequence">
					<action id="aDM_TRUNCATE_DEAL_PCK" package="MX::Action::ExecuteCmd">
						<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY -d $DBBASE -s 'exec MUREXDB.sp_DM_TRUNCATE_DEAL_PCK 'Y''"/>
					</action>

					<action id="aDM_FEED_DEAL_PCK" package="MX::Action::ExecuteCmd">
						<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY -d $DBBASE -s 'exec MUREXDB.sp_DM_INS_DEAL_PCK 'Y','EOD_DEAD''"/>
					</action>

					<action id="aDM_VALIDATE_DEAL_PCK" package="MX::Action::ExecuteCmd">
						<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY -d $DBBASE -s 'exec MUREXDB.sp_DM_CHK_ZERO_DEAL_PCK'"/>
					</action>

					<action id="aDM_VALIDATE_DEAL_PCK_BIS" package="MX::Action::ExecuteCmd">
						<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY -d $DBBASE -s 'exec MUREXDB.sp_DM_CHK_PCK_DEAL_PCK'"/>
					</action>
				</state>

				<state id="sSTG_FEED_DYN_TABLE" mode="parallel">

					<state id="sFEED_STG_DEAL" mode="parallel">
						<state id="sSTG_FEED_SQL_DEALCDS" mode="sequence">
							<action id="aSTG_FEED_DEALCDS" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="sleep 1;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-DEALCDS"/>
							</action>

							<action id="aSTG_FEED_DEALCDS_INDEX" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CREATE_INDEX 'Y', 'STG_DEALCDS_REP''"/>
							</action>
						</state>

						<state id="sSTG_FEED_SQL_DEALCOM" mode="sequence">
							<action id="aSTG_FEED_DEALCOM" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="sleep 300;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-DEALCOM"/>
							</action>

							<action id="aSTG_FEED_DEALCOM_INDEX" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CREATE_INDEX 'Y', 'STG_DEALCOM_REP''"/>
							</action>
						</state>

						<state id="sSTG_FEED_SQL_DEALCRD" mode="sequence">
							<action id="aSTG_FEED_DEALCRD" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="sleep 600;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-DEALCRD"/>
							</action>

							<action id="aSTG_FEED_DEALCRD_INDEX" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CREATE_INDEX 'Y', 'STG_DEALCRD_REP''"/>
							</action>
						</state>

						<state id="sSTG_FEED_SQL_DEALCURR" mode="sequence">
							<action id="aSTG_FEED_DEALCURR" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="sleep 900;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-DEALCURR"/>
							</action>

							<action id="aSTG_FEED_DEALCURR_INDEX" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CREATE_INDEX 'Y', 'STG_DEALCURR_REP''"/>
							</action>
						</state>

						<state id="sSTG_FEED_SQL_DEALEQD" mode="sequence">
							<action id="aSTG_FEED_DEALEQD" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="sleep 1200;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-DEALEQD"/>
							</action>

							<action id="aSTG_FEED_DEALEQD_INDEX" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CREATE_INDEX 'Y', 'STG_DEALEQD_REP''"/>
							</action>
						</state>

						<state id="sSTG_FEED_SQL_DEAL_HDR" mode="sequence">
							<action id="aSTG_FEED_DEALHDR" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="sleep 1500;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-DEALHDR"/>
							</action>

							<action id="aSTG_FEED_DEALHDR_INDEX" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CREATE_INDEX 'Y', 'STG_DEALHDR_REP''"/>
							</action>
						</state>

						<state id="sSTG_FEED_SQL_DEALIRD" mode="sequence">
							<action id="aSTG_FEED_DEALIRD" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="sleep 1800;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-DEALIRD"/>
							</action>

							<action id="aSTG_FEED_DEALIRD_INDEX" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CREATE_INDEX 'Y', 'STG_DEALIRD_REP''"/>
							</action>
						</state>

						<state id="sSTG_FEED_SQL_DEALLB" mode="sequence">
							<action id="aSTG_FEED_DEALLB" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="sleep 2100;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-DEALLB"/>
							</action>

							<action id="aSTG_FEED_DEALLB_INDEX" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CREATE_INDEX 'Y', 'STG_DEALLB_REP''"/>
							</action>
						</state>

						<state id="sSTG_FEED_SQL_DEALOPT" mode="sequence">
							<action id="aSTG_FEED_DEALOPT" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="sleep 2400;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-DEALOPT"/>
							</action>

							<action id="aSTG_FEED_DEALOPT_INDEX" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CREATE_INDEX 'Y', 'STG_DEALOPT_REP''"/>
							</action>
						</state>

						<state id="sSTG_FEED_SQL_DEALREPO" mode="sequence">
							<action id="aSTG_FEED_DEALREPO" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="sleep 2700;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-DEALREPO"/>
							</action>

							<action id="aSTG_FEED_DEALREPO_INDEX" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CREATE_INDEX 'Y', 'STG_DEALREPO_REP''"/>
							</action>
						</state>

						<state id="sSTG_FEED_EVENT_LB" mode="sequence">
							<action id="aSTG_FEED_EVENT_LB" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="sleep 3000;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-EVENT-LB"/>
							</action>

							<action id="aSTG_FEED_EVENT_LB_INDEX" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CREATE_INDEX 'Y', 'STG_EVENT_LB_REP''"/>
							</action>
						</state>

						<state id="sSTG_FEED_SQL_LOAN" mode="sequence">
							<action id="aSTG_FEED_LOAN" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="sleep 3300;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-LOAN"/>
							</action>

							<action id="aSTG_FEED_LOAN_INDEX" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CREATE_INDEX 'Y', 'STG_LOAN_REP''"/>
							</action>
						</state>

						<state id="sSTG_FEED_SQL_LOAN_LEG" mode="sequence">
							<action id="aSTG_FEED_LOAN_LEG" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="sleep 3600;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-LOAN-LEG"/>
							</action>

							<action id="aSTG_FEED_LOAN_LEG_INDEX" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CREATE_INDEX 'Y', 'STG_LOAN_LEG_REP''"/>
							</action>
						</state>

						<state id="sSTG_FEED_SQL_MKTOP" mode="sequence">
							<action id="aSTG_FEED_MKTOP" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="sleep 3900;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MKTOP"/>
							</action>

							<action id="aSTG_FEED_MKTOP_INDEX" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CREATE_INDEX 'Y', 'STG_MKTOP_REP''"/>
							</action>
						</state>

						<state id="sSTG_FEED_SQL_SEC_UND" mode="sequence">
							<action id="aSTG_FEED_SEC_UNC" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="sleep 4200;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-SEC-UNC"/>
							</action>

							<action id="aSTG_FEED_SEC_UNC_INDEX" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CREATE_INDEX 'Y', 'STG_SEC_UND_REP''"/>
							</action>
						</state>

					</state>

					<state id="sFEED_STG_CS" mode="sequence">

						<state id="sFEED_STG_CS_MAIN" mode="parallel">

							<state id="sFEED_STG_CS_P_TODAY" mode="parallel">
								<action id="aFEED_STG_CS_P_TODAY" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-CS-P-TODAY"/>
								</action>
							</state>

							<state id="sFEED_STG_CS_D_TODAY" mode="parallel">
								<action id="STG_CS_D_TODAY_01" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-CS-D-TODAY-01"/>
								</action>

								<action id="STG_CS_D_TODAY_02" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-CS-D-TODAY-02"/>
								</action>
								
								<action id="STG_CS_D_TODAY_03" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-CS-D-TODAY-03"/>
								</action>

								<action id="STG_CS_D_TODAY_04" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-CS-D-TODAY-04"/>
								</action>
							</state>

							<state id="sFEED_STG_CS_P_YEST" mode="parallel">
								<action id="aFEED_STG_CS_P_YEST" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-CS-P-YST"/>
								</action>
							</state>

							<state id="sFEED_STG_CS_D_YEST" mode="parallel">
								<action id="STG_CS_D_YEST_01" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-CS-D-YEST-01"/>
								</action>

								<action id="STG_CS_D_YEST_02" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-CS-D-YEST-02"/>
								</action>

								<action id="STG_CS_D_YEST_03" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-CS-D-YEST-03"/>
								</action>

								<action id="STG_CS_D_YEST_04" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-CS-D-YEST-04"/>
								</action>

								<action id="STG_CS_D_YEST_05" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-CS-D-YEST-05"/>
								</action>

								<action id="STG_CS_D_YEST_06" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-CS-D-YEST-06"/>
								</action>

								<action id="STG_CS_D_YEST_07" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-CS-D-YEST-07"/>
								</action>

								<action id="STG_CS_D_YEST_08" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-CS-D-YEST-08"/>
								</action>

								<action id="STG_CS_D_YEST_09" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-CS-D-YEST-09"/>
								</action>

								<action id="STG_CS_D_YEST_10" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-CS-D-YEST-10"/>
								</action>
							</state>

						</state>

						<state id="sFEED_STG_CS_INDEX" mode="parallel">
							<action id="aFEED_STG_CS_INDEX" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CREATE_INDEX 'Y', 'STG_CS_REP''"/>
							</action>
						</state>
					</state>


					<state id="sFEED_STG_MV" mode="sequence">

						<state id="sFEED_STG_MV_MAIN" mode="parallel">

							<state id="sFEED_STG_MV_P" mode="parallel">
								<action id="aFEED_STG_MV_P_2OM" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-P-2OM"/>
								</action>

								<action id="aFEED_STG_MV_P_OM" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-P-OM"/>
								</action>

								<action id="aFEED_STG_MV_P_YEST" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-P-YEST"/>
								</action>
								
								<action id="aFEED_STG_MV_P_YEST-1" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-P-YEST-1"/>
								</action>
							</state>

							<state id="sFEED_STG_MV_D_2OM" mode="parallel">
								<action id="aFEED_STG_MV_D_2OM_01" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="sleep 1;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-D-2OM-01"/>
								</action>

								<action id="aFEED_STG_MV_D_2OM_02" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="sleep 2;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-D-2OM-02"/>
								</action>

								<action id="aFEED_STG_MV_D_2OM_03" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="sleep 3;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-D-2OM-03"/>
								</action>

								<action id="aFEED_STG_MV_D_2OM_04" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="sleep 4;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-D-2OM-04"/>
								</action>

								<action id="aFEED_STG_MV_D_2OM_05" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="sleep 5;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-D-2OM-05"/>
								</action>

								<action id="aFEED_STG_MV_D_2OM_06" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="sleep 6;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-D-2OM-06"/>
								</action>	

								<action id="aFEED_STG_MV_D_2OM_07" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="sleep 7;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-D-2OM-07"/>
								</action>	

								<action id="aFEED_STG_MV_D_2OM_08" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="sleep 8;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-D-2OM-08"/>
								</action>	
							</state>

							<state id="sFEED_STG_MV_D_OM" mode="parallel">
								<action id="aFEED_STG_MV_D_OM_01" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="sleep 1;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-D-OM-01"/>
								</action>

								<action id="aFEED_STG_MV_D_OM_02" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="sleep 2;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-D-OM-02"/>
								</action>

								<action id="aFEED_STG_MV_D_OM_03" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="sleep 3;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-D-OM-03"/>
								</action>

								<action id="aFEED_STG_MV_D_OM_04" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="sleep 4;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-D-OM-04"/>
								</action>

								<action id="aFEED_STG_MV_D_OM_05" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="sleep 5;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-D-OM-05"/>
								</action>

								<action id="aFEED_STG_MV_D_OM_06" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="sleep 6;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-D-OM-06"/>
								</action>

								<action id="aFEED_STG_MV_D_OM_07" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="sleep 7;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-D-OM-07"/>
								</action>

								<action id="aFEED_STG_MV_D_OM_08" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="sleep 8;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-D-OM-08"/>
								</action>
							</state>


							<state id="sFEED_STG_MV_D_YEST" mode="parallel">
								<action id="aFEED_STG_MV_D_YEST_01" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="sleep 1;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-D-YEST-01"/>
								</action>

								<action id="aFEED_STG_MV_D_YEST_02" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="sleep 2;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-D-YEST-02"/>
								</action>

								<action id="aFEED_STG_MV_D_YEST_03" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="sleep 3;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-D-YEST-03"/>
								</action>

								<action id="aFEED_STG_MV_D_YEST_04" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="sleep 4;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-D-YEST-04"/>
								</action>

								<action id="aFEED_STG_MV_D_YEST_05" package="MX::Action::ExecuteCmd">									
									<param name="cmd" value="sleep 5;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-D-YEST-05"/> 
								</action>

								<action id="aFEED_STG_MV_D_YEST_06" package="MX::Action::ExecuteCmd">									
									<param name="cmd" value="sleep 6;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-D-YEST-06"/> 
								</action>   

								<action id="aFEED_STG_MV_D_YEST_07" package="MX::Action::ExecuteCmd">									
									<param name="cmd" value="sleep 7;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-D-YEST-07"/> 
								</action>   

								<action id="aFEED_STG_MV_D_YEST_08" package="MX::Action::ExecuteCmd">									
									<param name="cmd" value="sleep 8;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-D-YEST-08"/> 
								</action>  
							</state>

							<state id="sFEED_STG_MV_D_YEST-1" mode="parallel">
								<action id="aFEED_STG_MV_D_YEST-1_01" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="sleep 1;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-D-YST-1-01"/>
								</action>

								<action id="aFEED_STG_MV_D_YEST-1_02" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="sleep 2;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-D-YST-1-02"/>
								</action>

								<action id="aFEED_STG_MV_D_YEST-1_03" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="sleep 3;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-D-YST-1-03"/>
								</action>

								<action id="aFEED_STG_MV_D_YEST-1_04" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="sleep 4;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-D-YST-1-04"/>
								</action>

								<action id="aFEED_STG_MV_D_YEST-1_05" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="sleep 5;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-D-YST-1-05"/>
								</action>

								<action id="aFEED_STG_MV_D_YEST-1_06" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="sleep 6;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-D-YST-1-06"/>
								</action>

								<action id="aFEED_STG_MV_D_YEST-1_07" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="sleep 7;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-D-YST-1-07"/>
								</action>

								<action id="aFEED_STG_MV_D_YEST-1_08" package="MX::Action::ExecuteCmd">
									<param name="cmd" value="sleep 8;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-MV-D-YST-1-08"/>
								</action>
							</state>
						</state>

						<state id="sFEED_STG_MV_INDEX" mode="parallel">
							<action id="aFEED_STG_MV_INDEX" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CREATE_INDEX 'Y', 'STG_MV_REP''"/>
							</action>
						</state>
					</state>

					<state id="sSTG_FEED_TRADE" mode="sequence">
						<state id="sSTG_FEED_TRADE_D_MAIN" mode="parallel">
							<action id="aFEED_STG_TRADE_D_01" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="sleep 1;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-TRADE-D-01"/>
							</action>

							<action id="aFEED_STG_TRADE_D_02" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="sleep 2;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-TRADE-D-02"/>
							</action>

							<action id="aFEED_STG_TRADE_D_03" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="sleep 3;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-TRADE-D-03"/>
							</action>

							<action id="aFEED_STG_TRADE_D_04" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="sleep 4;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-TRADE-D-04"/>
							</action>

							<action id="aFEED_STG_TRADE_D_05" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="sleep 5;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-TRADE-D-05"/>
							</action>

							<action id="aFEED_STG_TRADE_D_06" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="sleep 6;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-TRADE-D-06"/>
							</action>

							<action id="aFEED_STG_TRADE_D_07" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="sleep 7;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-TRADE-D-07"/>
							</action>

							<action id="aFEED_STG_TRADE_D_08" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="sleep 8;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-TRADE-D-08"/>
							</action>

							<action id="aFEED_STG_TRADE_D_09" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="sleep 9;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-TRADE-D-09"/>
							</action>

							<action id="aFEED_STG_TRADE_D_10" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="sleep 10;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFS-TRADE-D-10"/>
							</action>						
						</state>		

						<!--				<state id="sFEED_STG_TRADE_DYN_POST" mode="parallel">      -->
						<!--					<state id="sFEED_STG_TRADE_CVUNI" mode="sequence"> -->
						<!--					** PAS UTILE CAR PAS DE DT DANS LE WORKFLOW DEAD   -->
						<!--					</state>                                           -->
						<!--					                                                   -->
						<!--					<state id="sFEED_STG_TRADE_CVSPT" mode="sequence"> -->
						<!--					** PAS UTILE CAR PAS DE DT DANS LE WORKFLOW DEAD   -->
						<!--					</state>                                           -->
						<!--				</state>                                                   -->

						<state id="sSTG_FEED_TRADE_INDEX" mode="parallel">
							<action id="aFEED_STG_TRADE_INDEX" package="MX::Action::ExecuteCmd">
								<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CREATE_INDEX 'Y', 'STG_TRADE_REP''"/>
							</action>
						</state>		
					</state>		
				</state>		
			</state>		
		</state>


		<state id="sSTG_VALIDATE_INTEGRITY" mode="parallel">
			<action id="aSTG_VALIDATE_CHKZERO_CS" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CHK_ZERO_CS'"/>
			</action>

			<!--	<action id="aSTG_VALIDATE_CHKZERO_CVPRC" package="MX::Action::ExecuteCmd"> -->
			<!--	** PAS UTILE CAR PAS DE DT DANS LE WORKFLOW DEAD                           -->
			<!--	</action>                                                                  -->
			<!--	                                                                           -->
			<!--	<action id="aSTG_VALIDATE_CHKZERO_CVSPT" package="MX::Action::ExecuteCmd"> -->
			<!--	** PAS UTILE CAR PAS DE DT DANS LE WORKFLOW DEAD                           -->
			<!--	</action>                                                                  -->

			<action id="aSTG_VALIDATE_CHKZERO_DEALCDS" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CHK_ZERO_DEALCDS'"/>
			</action>

			<action id="aSTG_VALIDATE_CHKZERO_DEALCOM" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CHK_ZERO_DEALCOM'"/>
			</action>

			<action id="aSTG_VALIDATE_CHKZERO_DEALCRD" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CHK_ZERO_DEALCRD'"/>
			</action>

			<action id="aSTG_VALIDATE_CHKZERO_DEALCURR" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CHK_ZERO_DEALCURR'"/>
			</action>

			<action id="aSTG_VALIDATE_CHKZERO_DEALEQD" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CHK_ZERO_DEALEQD'"/>
			</action>

			<action id="aSTG_VALIDATE_CHKZERO_DEALHDR" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CHK_ZERO_DEALHDR'"/>
			</action>

			<action id="aSTG_VALIDATE_CHKZERO_DEALIRD" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CHK_ZERO_DEALIRD'"/>
			</action>

			<action id="aSTG_VALIDATE_CHKZERO_DEALLB" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CHK_ZERO_DEALLB'"/>
			</action>

			<action id="aSTG_VALIDATE_CHKZERO_DEALOPT" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CHK_ZERO_DEALOPT'"/>
			</action>

			<action id="aSTG_VALIDATE_CHKZERO_DEALREPO" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CHK_ZERO_DEALREPO'"/>
			</action>

			<action id="aSTG_VALIDATE_CHKZERO_EVENT_LB" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CHK_ZERO_EVENT_LB'"/>
			</action>

			<action id="aSTG_VALIDATE_CHKZERO_LOAN" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CHK_ZERO_LOAN'"/>
			</action>

			<action id="aSTG_VALIDATE_CHKZERO_LOAN_LEG" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CHK_ZERO_LOAN_LEG'"/>
			</action>

			<action id="aSTG_VALIDATE_CHKZERO_MKTOP" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CHK_ZERO_MKTOP'"/>
			</action>

			<action id="aSTG_VALIDATE_CHKZERO_MV" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CHK_ZERO_MV'"/>
			</action>

			<action id="aSTG_VALIDATE_CHKZERO_SEC_UND" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CHK_ZERO_SEC_UND'"/>
			</action>

			<action id="aSTG_VALIDATE_CHKZERO_TRADE" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_STG_CHK_ZERO_TRADE'"/>
			</action>
		</state>


		<!--	<state id="sODS_TRUNCATE" mode="parallel">                                                                                                  -->
		<!--		<action id="aODS_TRUNCATE_ODS_XXX" package="MX::Action::ExecuteCmd">                                                                -->
		<!--			<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'sp_ODS_TRUNCATE_XXX 'Y''"></param> -->
		<!--		</action>                                                                                                                           -->
		<!--	</state>                                                                                                                                    -->


		<state id="sODS_DROP_INDEX" mode="parallel">
			<action id="aODS_DROP_INDEX_CS" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_DROP_INDEX 'Y', 'ODS_CS_REP''"/>
			</action>

			<action id="aODS_DROP_INDEX_DEALHDR" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_DROP_INDEX 'Y', 'ODS_DEALHDR_REP''"/>
			</action>

			<action id="aODS_DROP_INDEX_MV" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_DROP_INDEX 'Y', 'ODS_MV_REP''"/>
			</action>

			<action id="aODS_DROP_INDEX_MV_DETAIL" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_DROP_INDEX 'Y', 'ODS_MV_DETAIL_REP''"/>
			</action>

			<action id="aODS_DROP_INDEX_TRADE" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_DROP_INDEX 'Y', 'ODS_TRADE_REP''"/>
			</action>

			<action id="aODS_DROP_INDEX_TRADE_HS" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_DROP_INDEX 'Y', 'ODS_TRADE_HS_REP''"/>
			</action>

			<action id="aODS_DROP_INDEX_TRADE_LEG" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_DROP_INDEX 'Y', 'ODS_TRADE_LEG_REP''"/>
			</action>

			<action id="aODS_DROP_INDEX_TRADE_LEG_HS" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_DROP_INDEX 'Y', 'ODS_TRADE_LEG_HS_REP''"/>
			</action>
		</state>


		<state id="sODS_FEED_ALL" mode="parallel">
			<state id="sFEED_ODS_CS_D" mode="sequence">
				<action id="aFEED_ODS_CS_D" package="MX::Action::ExecuteCmd">
					<param name="cmd" value="sleep 1;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFO-CS-D"/>
				</action>

				<action id="aFEED_ODS_CS_D_INDEX" package="MX::Action::ExecuteCmd">
					<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CREATE_INDEX 'Y', 'ODS_CS_REP''"/>
				</action>
			</state>

			<state id="sFEED_ODS_DEALHDR_D" mode="sequence">
				<action id="aFEED_ODS_DEALHDR_D" package="MX::Action::ExecuteCmd">
					<param name="cmd" value="sleep 5;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFO-DEALHDR-D"/>
				</action>

				<action id="aFEED_ODS_DEALHDR_D_INDEX" package="MX::Action::ExecuteCmd">
					<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CREATE_INDEX 'Y', 'ODS_DEALHDR_REP''"/>
				</action>
			</state>

			<state id="sFEED_ODS_MV_DETAIL_D" mode="sequence">
				<action id="aFEED_ODS_MV_DETAIL_D" package="MX::Action::ExecuteCmd">
					<param name="cmd" value="sleep 10;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFO-MV-DETAIL-D"/>
				</action>

				<action id="aFEED_ODS_MV_DETAIL_D_INDEX" package="MX::Action::ExecuteCmd">
					<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CREATE_INDEX 'Y', 'ODS_MV_DETAIL_REP''"/>
				</action>
			</state>

			<state id="sFEED_ODS_TRADE_D" mode="sequence">
				<action id="aFEED_ODS_TRADE_D" package="MX::Action::ExecuteCmd">
					<param name="cmd" value="sleep 15;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFO-TRADE-D"/>
				</action>

				<action id="aFEED_ODS_TRADE_D_INDEX" package="MX::Action::ExecuteCmd">
					<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CREATE_INDEX 'Y', 'ODS_TRADE_REP''"/>
				</action>
			</state>

			<state id="sFEED_ODS_TRADE_D_HS" mode="sequence">
				<action id="aFEED_ODS_TRADE_D_HS" package="MX::Action::ExecuteCmd">
					<param name="cmd" value="sleep 20;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFO-TRADE-D-HS"/>
				</action>		

				<action id="aFEED_ODS_TRADE_HS_D_INDEX" package="MX::Action::ExecuteCmd">
					<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CREATE_INDEX 'Y', 'ODS_TRADE_HS_REP''"/>
				</action>
			</state>

			<state id="sFEED_ODS_TRADE_D_LEG" mode="sequence">
				<action id="aFEED_ODS_TRADE_D_LEG" package="MX::Action::ExecuteCmd">
					<param name="cmd" value="sleep 25;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFO-TRADE-D-LEG"/>
				</action>

				<action id="aFEED_ODS_TRADE_LEG_D_INDEX" package="MX::Action::ExecuteCmd">
					<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CREATE_INDEX 'Y', 'ODS_TRADE_LEG_REP''"/>
				</action>
			</state>

			<state id="sFEED_ODS_TRADE_D_LEG_HS" mode="sequence">
				<action id="aFEED_ODS_TRADE_D_LEG_HS" package="MX::Action::ExecuteCmd">
					<param name="cmd" value="sleep 30;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-BFO-TRADE-D-LEG-HS"/>
				</action>		

				<action id="aFEED_ODS_TRADE_LEG_HS_D_INDEX" package="MX::Action::ExecuteCmd">
					<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CREATE_INDEX 'Y', 'ODS_TRADE_LEG_HS_REP''"/>
				</action>
			</state>
		</state>


		<state id="sUPDATE_STATISTICS" mode="sequence">
			<action id="aUPDSTATIS_ODS_PL_REP" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'update index statistics ODS_PL_REP'"/>
			</action>

			<action id="aUPDSTATIS_ODS_MV_REP" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'update index statistics ODS_MV_REP'"/>
			</action>

			<action id="aUPDSTATIS_ODS_MV_DETAIL_REP" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'update index statistics ODS_MV_DETAIL_REP'"/>
			</action>

			<action id="aUPDSTATIS_ODS_TRADE_LEG_REP" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'update index statistics ODS_TRADE_LEG_REP'"/>
			</action>

			<action id="aUPDSTATIS_ODS_TRADE_REP" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'update index statistics ODS_TRADE_REP'"/>
			</action>

			<action id="aUPDSTATIS_ODS_TRADE_HS_REP" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'update index statistics ODS_TRADE_HS_REP'"/>
			</action>

			<action id="aUPDSTATIS_ODS_TRADE_LEG_HS_REP" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'update index statistics ODS_TRADE_LEG_HS_REP'"/>
			</action>

			<action id="aUPDSTATIS_ODS_DEALHDR_REP" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'update index statistics ODS_DEALHDR_REP'"/>
			</action>

			<action id="aUPDSTATIS_STG_DEALIRD_REP" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'update index statistics STG_DEALIRD_REP'"/>
			</action>

			<action id="aUPDSTATIS_STG_ENTITY_REP" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'update index statistics STG_ENTITY_REP'"/>
			</action>

			<action id="aUPDSTATIS_ODS_CPTY_REP" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'update index statistics ODS_CPTY_REP'"/>
			</action>

			<action id="aUPDSTATIS_STG_CONV_REP" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'update index statistics STG_CONV_REP'"/>
			</action>
		</state>


		<state id="sODS_SQL" mode="parallel">

			<state id="sODS_UPD_CS_D" mode="sequence">
				<action id="aODS_UPD_CS_D" package="MX::Action::ExecuteCmd">
					<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_UPD_CS 'Y','EOD_DEAD''"/>
				</action>
			</state>

			<state id="sODS_UPD_MV_D" mode="sequence">
				<action id="aODS_UPD_MV_DETAIL_D" package="MX::Action::ExecuteCmd">
					<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_UPD_MV_DETAIL 'Y','EOD_DEAD''"/>
				</action>

				<action id="aODS_FEED_MV" package="MX::Action::ExecuteCmd">
					<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_FEED_MV 'Y''"/>
				</action>

				<action id="aODS_FEED_MV_INDEX" package="MX::Action::ExecuteCmd">
					<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CREATE_INDEX 'Y', 'ODS_MV_REP''"/>
				</action>
			</state>

			<state id="sODS_UPD_TRADE_D" mode="sequence">
				<action id="aODS_UPD_TRADE_D" package="MX::Action::ExecuteCmd">
					<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_UPD_TRADE 'Y','EOD_DEAD''"/>
				</action>		
			</state>

			<state id="sODS_UPD_TRADE_D_HS" mode="sequence">
				<action id="aODS_UPD_TRADE_D_HS" package="MX::Action::ExecuteCmd">
					<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_UPD_TRADE_HS 'Y','EOD_DEAD''"/>
				</action>			
			</state>

			<state id="sODS_UPD_TRADE_D_LEG" mode="sequence">
				<action id="aODS_UPD_TRADE_D_LEG" package="MX::Action::ExecuteCmd">
					<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_UPD_TRADE_LEG 'Y','EOD_DEAD''"/>
				</action>
			</state>

			<state id="sODS_UPD_TRADE_D_LEG_HS" mode="sequence">
				<action id="aODS_UPD_TRADE_D_LEG_HS" package="MX::Action::ExecuteCmd">
					<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_UPD_TRADE_LEG_HS 'Y','EOD_DEAD''"/>
				</action>	
			</state>
		</state>


		<state id="sODS_VALIDATE_INTEGRITY" mode="parallel">
			<action id="aODS_VALIDATE_CHKZERO_BASKET" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CHK_ZERO_BASKET'"/>
			</action>

			<action id="aODS_VALIDATE_CHKZERO_CPTY" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CHK_ZERO_CPTY'"/>
			</action>

			<action id="aODS_VALIDATE_CHKZERO_CS" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CHK_ZERO_CS'"/>
			</action>

			<action id="aODS_VALIDATE_CHKZERO_DT" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CHK_ZERO_DT'"/>
			</action>

			<action id="aODS_VALIDATE_CHKZERO_DEALHDR" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CHK_ZERO_DEALHDR'"/>
			</action>

			<action id="aODS_VALIDATE_CHKZERO_EVENT_LB" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CHK_ZERO_EVENT_LB'"/>
			</action>

			<action id="aODS_VALIDATE_CHKZERO_FX_FUT" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CHK_ZERO_FX_FUT'"/>
			</action>

			<action id="aODS_VALIDATE_CHKZERO_GEN" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CHK_ZERO_GEN'"/>
			</action>

			<action id="aODS_VALIDATE_CHKZERO_GREEKS" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CHK_ZERO_GREEKS'"/>
			</action>

			<action id="aODS_VALIDATE_CHKZERO_MAT" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CHK_ZERO_MAT'"/>
			</action>

			<action id="aODS_VALIDATE_CHKZERO_MKT_FXFUT" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CHK_ZERO_MKT_FXFUT'"/>
			</action>

			<action id="aODS_VALIDATE_CHKZERO_MKT_PRIC" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CHK_ZERO_MKT_PRIC'"/>
			</action>

			<action id="aODS_VALIDATE_CHKZERO_MKT_SPOT" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CHK_ZERO_MKT_SPOT'"/>
			</action>

			<action id="aODS_VALIDATE_CHKZERO_MV" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CHK_ZERO_MV'"/>
			</action>

			<action id="aODS_VALIDATE_CHKZERO_MV_DETAIL" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CHK_ZERO_MV_DETAIL'"/>
			</action>	

			<action id="aODS_VALIDATE_CHKZERO_OPTCNTR_C" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CHK_ZERO_OPTCNTR_C'"/>
			</action>

			<action id="aODS_VALIDATE_CHKZERO_PFLD" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CHK_ZERO_PFLD'"/>
			</action>

			<action id="aODS_VALIDATE_CHKZERO_PFLD_COMB" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CHK_ZERO_PFLD_COMB'"/>
			</action>

			<action id="aODS_VALIDATE_CHKZERO_PFLD_TREE" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CHK_ZERO_PFLD_TREE'"/>
			</action>

			<action id="aODS_VALIDATE_CHKZERO_PL" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CHK_ZERO_PL'"/>
			</action>

			<action id="aODS_VALIDATE_CHKZERO_PL_SV" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CHK_ZERO_PL_SV'"/>
			</action>

			<action id="aODS_VALIDATE_CHKZERO_SEC_BND_TRIG" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CHK_ZERO_SEC_BND_TRIG'"/>
			</action>

			<action id="aODS_VALIDATE_CHKZERO_SEC_MKT" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CHK_ZERO_SEC_MKT'"/>
			</action>

			<action id="aODS_VALIDATE_CHKZERO_SEC_TRD" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CHK_ZERO_SEC_TRD'"/>
			</action>

			<action id="aODS_VALIDATE_CHKZERO_SECURITY" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CHK_ZERO_SECURITY'"/>
			</action>

			<action id="aODS_VALIDATE_CHKZERO_SV" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CHK_ZERO_SV'"/>
			</action>

			<action id="aODS_VALIDATE_CHKZERO_TRADE" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CHK_ZERO_TRADE'"/>
			</action>

			<action id="aODS_VALIDATE_CHKZERO_TRADE_HS" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CHK_ZERO_TRADE_HS'"/>
			</action>

			<action id="aODS_VALIDATE_CHKZERO_TRADE_LEG" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CHK_ZERO_TRADE_LEG'"/>
			</action>

			<action id="aODS_VALIDATE_CHKZERO_TRADE_LEG_HS" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_CHK_ZERO_TRADE_LEG_HS'"/>
			</action>
		</state>


		<state id="sEXTRACT" mode="parallel">

			<state id="sXTR_ACU" mode="parallel">
				<action id="aXTR_RCCB" package="MX::Action::ExecuteCmd">
					<param name="cmd" value="$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-XTR-RCCB"/>
				</action>

				<action id="aXTR_RCCS" package="MX::Action::ExecuteCmd">
					<param name="cmd" value="$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-XTR-RCCS"/>
				</action>		
			</state>

			<state id="sXTR_ACU_211RECON" mode="parallel">
				<action id="aXTR_RCCB_211" package="MX::Action::ExecuteCmd">
					<param name="cmd" value="$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-XTR-RCCB-211"/>
				</action>

				<action id="aXTR_RCCS_211" package="MX::Action::ExecuteCmd">
					<param name="cmd" value="$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-XTR-RCCS-211"/>
				</action>
			</state>
		</state>


		<state id="sSCHEDULER" mode="sequence">
			<action id="aSCH_RCCB" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-XTR-ACU-SCHED-RCCB"/>
			</action>		

			<action id="aSCH_RCCS" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-XTR-ACU-SCHED-RCCS"/>
			</action>			
		</state>


		<state id="sSCHEDULER_ACU_MFI_RECON" mode="sequence">
			<action id="aSCH_RCCB_211RECON" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-XTR-ACU-SCHED-RCCB-211 &amp;"/>
			</action>

			<action id="aSCH_RCCB_211RECON_SFTP" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="sleep 60;$MXBIN/TOOLS/SFTP/mx_launch_sftp.pl MFTPUT-ACU-XTR-RCCB-211"/>
			</action>

			<action id="aSCH_RCCS_211RECON" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="sleep 60;$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-XTR-ACU-SCHED-RCCS-211 &amp;"/>
			</action>

			<action id="aSCH_RCCS_211RECON_SFTP" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="sleep 120;$MXBIN/TOOLS/SFTP/mx_launch_sftp.pl MFTPUT-ACU-XTR-RCCS-211"/>
			</action>
		</state>

		<state id="sSCHEDULER_ILS" mode="sequence">
			<action id="aSCHEDULER_ILS_1" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-XTC-ILS"></param>
			</action>

			<action id="aSCHEDULER_ILS_2" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/DATAMART/XTC/FO/ILS_MAIL.sh &amp;"></param>
			</action>
		</state> 

		<state id="sWORKFLOW_RESET" mode="parallel">
			<action id="aDM_TRUNCATE_DEAL_PCK2" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY -d $DBBASE -s 'exec MUREXDB.sp_DM_TRUNCATE_DEAL_PCK 'Y''"/>
			</action>

			<action id="aODS_RESET_DATE" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/SQL/sql_launcher -z $DSQUERY_DM -d $DBDATAMART -s 'exec sp_ODS_RESET_DATE'"/>
			</action>
		</state>


		<state id="sBACKUP" mode="sequence">
			<action id="aLAUNCH_BACKUP_TOUCHKEY" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="touch $MXTWS/backup_DB_MxInfo-dead.key"/>
			</action>

			<action id="aLAUNCH_BACKUP_CHMOD" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="chmod 777 $MXTWS/backup_DB_MxInfo-dead.key"/>
			</action>
		</state>


		<state id="sMARKER_END" mode="sequence">
			<action id="aMARKER_END" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/MUREX/Launchers/mx_launch_ps.pl DM-WF-EOD-DEAD-END"/>
			</action>
		</state>


		<state id="sEMAIL_END" mode="parallel">
			<action id="aEMAIL_END" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="cat /dev/null | mailx -s'DATAMART - EOD DEAD - Done' $DATAMART_MAILTO"/>
			</action>

			<action id="aNAGIOS_STOP" package="MX::Action::ExecuteCmd">
				<param name="cmd" value="$MXBIN/TOOLS/NAGIOS/nagios_msg.sh I 'DATAMART - EOD DEAD' wf_eod_dead.xml 00"/>
			</action>
		</state>
	</state>

</workflow>
